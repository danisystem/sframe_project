<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <title>appLK â€” LiveKit Broadcast (base)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body { font-family: system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif; margin: 0; background:#0b0d10; color:#e7ecef; }
    header { padding: 12px 16px; background:#12161c; border-bottom:1px solid #1b212a; display:flex; gap:12px; align-items:center; flex-wrap:wrap; }
    input, button, select { background:#0f1319; color:#e7ecef; border:1px solid #1b212a; padding:8px 10px; border-radius:10px; }
    button { cursor:pointer; }
    main { display:grid; grid-template-columns: 1fr 1fr; gap:12px; padding:12px; }
    section { background:#0f1319; border:1px solid #1b212a; border-radius:14px; padding:10px; min-height:220px; }
    h2 { margin:6px 0 12px; font-size:16px; color:#9fb3c8; }
    #videos { display:grid; grid-template-columns: 1fr 1fr; gap:8px; }
    video { width:100%; height:auto; background:#000; border-radius:10px; }
    #log { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; white-space:pre-wrap; height:180px; overflow:auto; background:#0b0f14; }
    .row { display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
    .grow { flex:1; }
    .muted { opacity:0.7; }
  </style>
</head>
<body>
  <header>
    <div class="row grow">
      <label>Room: <input id="room" value="demo" /></label>
      <label>Identity: <input id="identity" placeholder="Danilo" /></label>
      <label>Token URL: <input id="tokenUrl" class="grow" value="http://localhost:3001/token" /></label>
      <label>Server WS: <input id="serverUrl" class="grow" value="ws://localhost:7880" /></label>
    </div>
    <div class="row">
      <button id="btnJoin">Join</button>
      <button id="btnLeave" disabled>Leave</button>
      <button id="btnToggleMic" disabled>Mic mute/unmute</button>
      <button id="btnToggleCam" disabled>Cam on/off</button>
    </div>
  </header>

  <main>
    <section>
      <h2>Locale</h2>
      <div id="local"></div>
    </section>
    <section>
      <h2>Remoti</h2>
      <div id="videos"></div>
    </section>
    <section style="grid-column: 1 / -1;">
      <h2>Log</h2>
      <div id="log"></div>
    </section>
  </main>

  <!-- Carichiamo la logica -->
  <script type="module" src="./bootstrap_sframe.js"></script>
  <script type="module" src="./appLK.js"></script>
</body>
</html>
