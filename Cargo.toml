[package]
name = "sframe_test"
version = "0.1.0"
edition = "2024"   # se su Mac dovessi avere warning/errore con 2024, metti "2021"

[features]
sframe-ring = ["sframe/ring"]
sframe-openssl = ["sframe/openssl"]
sframe-rust-crypto = ["sframe/rust-crypto"]
default = ["sframe-rust-crypto"]

[dependencies]
cpal = "0.15"
crossbeam-channel = "0.5"
anyhow = "1"
log = "0.4"
simple_logger = "5"
clap = { version = "4", features = ["derive"] }

sframe = { git = "https://github.com/TobTheRock/sframe-rs.git", branch = "main", default-features = false }
hex = "0.4.3"
ctrlc = "3"

# Image: va bene 0.24 (JpegEncoder √® in image::codecs::jpeg gi√† qui)

image = { version = "0.24.9", default-features = true, features = ["jpeg", "png"] }


minifb = "0.25"
pixels = "0.13"
bytemuck = "1.15"
winit = "0.28"
softbuffer = "0.3"

# üëá FIX CROSS-PLATFORM: usa il backend ‚Äúnativo‚Äù a seconda dell‚ÄôOS
# - macOS ‚Üí AVFoundation
# - Windows ‚Üí MediaFoundation (MSMF)
# - Linux ‚Üí v4l2
nokhwa = { version = "0.10.9", default-features = false, features = ["input-native"] }

[[bin]]
name = "tx_audio"
path = "src/tx_audio.rs"

[[bin]]
name = "rx_audio"
path = "src/rx_audio.rs"

[[bin]]
name = "tx_video"
path = "src/tx_video.rs"

[[bin]]
name = "rx_video"
path = "src/rx_video.rs"

[[bin]]
name = "rx_video_http"
path = "src/rx_video_http.rs"

[[bin]]
name = "tx_av"
path = "src/tx_av.rs"

[[bin]]
name = "rx_av"
path = "src/rx_av.rs"

[[bin]]
name = "peer_av"
path = "src/peer_av.rs"

[dev-dependencies]
pretty_assertions = "1"
